# ABECT CMS

Content Management System –¥–ª—è ABECT –Ω–∞ –±–∞–∑—ñ Payload CMS 3 + Next.js 15.

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π

- **Next.js 15.4.10** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Payload CMS 3.62.1** - Headless CMS
- **React 19.1.4** - UI –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞
- **PostgreSQL 17** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **Nginx** - Reverse proxy
- **TypeScript** - –ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è

## üìã –ö–æ–ª–µ–∫—Ü—ñ—ó

- **Services** - –ü–æ—Å–ª—É–≥–∏ (–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Weblium/Custom pricing)
- **Portfolio** - –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –ø—Ä–æ–µ–∫—Ç—ñ–≤
- **Posts** - –ë–ª–æ–≥ –ø–æ—Å—Ç–∏
- **Categories** - –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
- **Media** - –ú–µ–¥—ñ–∞ —Ñ–∞–π–ª–∏
- **Comments** - –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ
- **Users** - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ

## üåç –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è

–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–æ–≤:
- üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- üá¨üáß English

## üíª –õ–æ–∫–∞–ª—å–Ω–∏–π —Ä–æ–∑—Ä–æ–±–∫–∞

### –í–∏–º–æ–≥–∏

- Node.js 18.20.2+ –∞–±–æ 20.9.0+
- pnpm 9+
- PostgreSQL 17 (–ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ —á–µ—Ä–µ–∑ Docker)

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pnpm install

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è .env
cp .env.example .env

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DATABASE_URI –≤ .env
# DATABASE_URI=postgresql://user:password@localhost:5432/payload

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ Payload
pnpm generate:types

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
pnpm dev
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:3000

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –†–æ–∑—Ä–æ–±–∫–∞
pnpm dev                    # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
pnpm build                  # –ó–±—ñ—Ä–∫–∞ –¥–ª—è production
pnpm start                  # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è
pnpm generate:types         # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è TypeScript —Ç–∏–ø—ñ–≤
pnpm generate:importmap     # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è import map

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
pnpm test                   # –í—Å—ñ —Ç–µ—Å—Ç–∏
pnpm test:int               # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
pnpm test:e2e               # E2E —Ç–µ—Å—Ç–∏

# –õ—ñ–Ω—Ç–∏–Ω–≥
pnpm lint                   # ESLint

# Payload CLI
pnpm pl                     # Payload CLI –∫–æ–º–∞–Ω–¥–∏

# Seed –¥–∞–Ω—ñ
pnpm seed:services          # Seed –±–∞–∑–æ–≤–∏—Ö –ø–æ—Å–ª—É–≥
pnpm seed:services:extra    # Seed –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ—Å–ª—É–≥
```

## üöÄ Production Deployment

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

–î–∏–≤—ñ—Ç—å—Å—è [QUICK_START.md](./QUICK_START.md) –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ deployment (5 —Ö–≤–∏–ª–∏–Ω).

### –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

–î–∏–≤—ñ—Ç—å—Å—è [DEPLOYMENT.md](./DEPLOYMENT.md) –¥–ª—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ deployment –Ω–∞ VPS Ubuntu 24.04.

### –û—Å–Ω–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏

1. –û–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: `pnpm install`
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ VPS –∑ Docker, Nginx
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ DNS –¥–ª—è –¥–æ–º–µ–Ω—É
4. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` –∑ production –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
5. –û—Ç—Ä–∏–º–∞–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
6. –ó–∞–ø—É—Å—Ç—ñ—Ç—å: `docker compose up -d`

## üîÑ CI/CD

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π deployment

–ù–∞–ª–∞—à—Ç—É–π—Ç–µ CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ deployment –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É push:

**–®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (10 —Ö–≤–∏–ª–∏–Ω):**
- [docs/QUICK-CICD.md](./docs/QUICK-CICD.md)

**–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
- [docs/CI-CD-SETUP.md](./docs/CI-CD-SETUP.md)

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
```bash
git push origin main
     ‚Üì
GitHub Actions –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
     ‚Üì
–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ VPS —á–µ—Ä–µ–∑ SSH
     ‚Üì
–í–∏–∫–æ–Ω–∞–Ω–Ω—è cicd.sh
     ‚Üì
‚úÖ –°–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–∞–ø—Ü—ñ [docs/](./docs/):
- [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏](./docs/ARCHITECTURE.md)
- [CI/CD Setup](./docs/CI-CD-SETUP.md)
- [Quick CI/CD](./docs/QUICK-CICD.md)

## üîí –ë–µ–∑–ø–µ–∫–∞

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞—î –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —É—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π:
- ‚úÖ **CVE-2025-55182** - React RCE (CVSS 10.0)
- ‚úÖ **CVE-2025-66478** - Next.js RCE (CVSS 10.0)
- ‚úÖ **CVE-2025-55184** - React DoS (CVSS 7.5)
- ‚úÖ **CVE-2025-67779** - React DoS (CVSS 7.5)
- ‚úÖ **CVE-2025-55183** - Source Code Exposure

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω—ñ –ø–∞—Ä–æ–ª—ñ –≤ `.env`
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ firewall (UFW)
3. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ backups –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
5. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ SSL/TLS (Let's Encrypt)

## üì¶ Docker

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
mkdir -p postgres_data backups media

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env
cp .env.production .env
nano .env

# –ó–∞–ø—É—Å–∫
docker compose up -d

# –õ–æ–≥–∏
docker compose logs -f

# –ó—É–ø–∏–Ω–∫–∞
docker compose down
```

### Backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è backup
docker exec abect-postgres pg_dump -U payload payload > backups/backup_$(date +%Y%m%d).sql

# –°—Ç–∏—Å–Ω—É—Ç–∏–π backup
docker exec abect-postgres pg_dump -U payload payload | gzip > backups/backup_$(date +%Y%m%d).sql.gz

# –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
docker exec -i abect-postgres psql -U payload payload < backups/backup.sql
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
cms/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (frontend)/         # Frontend —Å—Ç–æ—Ä—ñ–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (payload)/          # Payload –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ client/                 # –ö–ª—ñ—î–Ω—Ç—Å—å–∫—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—î–º—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modules/            # –ú–æ–¥—É–ª—ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/                # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ collections/            # Payload –∫–æ–ª–µ–∫—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ scripts/                # –°–∫—Ä–∏–ø—Ç–∏ (seed, –º—ñ–≥—Ä–∞—Ü—ñ—ó)
‚îÇ   ‚îî‚îÄ‚îÄ payload.config.ts       # Payload –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ messages/                   # i18n –ø–µ—Ä–µ–∫–ª–∞–¥–∏
‚îú‚îÄ‚îÄ nginx/                      # Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ backups/                    # Backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ media/                      # –ú–µ–¥—ñ–∞ —Ñ–∞–π–ª–∏ (uploads)
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .env.production             # Production env —à–∞–±–ª–æ–Ω
‚îî‚îÄ‚îÄ deploy.sh                   # Deployment —Å–∫—Ä–∏–ø—Ç
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—å –¥–æ –∫–æ–º–∞–Ω–¥–∏ ABECT.
